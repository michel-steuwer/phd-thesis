%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Thesis Configuration File
%
% The main lines to change in this file are in the DOCUMENT VARIABLES
% section, the rest of the file is for advanced configuration.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	DOCUMENT VARIABLES
%	Fill in the lines below to enter your information into the thesis template
%	Each of the commands can be cited anywhere in the thesis
%----------------------------------------------------------------------------------------

% Remove drafting to get rid of the '[ Date - classicthesis version 4.0 ]' text at the bottom of every page
\PassOptionsToPackage{ eulerchapternumbers
                      ,parts
                      ,eulermath
                      ,dottedtoc
                      ,pdfspacing
                      ,listings
                      %,subfig
                      ,drafting
                     }{classicthesis}
% Available options: drafting parts nochapters linedheaders eulerchapternumbers beramono eulermath pdfspacing minionprospacing tocaligned dottedtoc manychapters listings floatperchapter subfig
% Adding 'dottedtoc' will make page numbers in the table of contents flushed right with dots leading to them

\newcommand{\myTitle}{My Title\xspace}
%\newcommand{\mySubtitle}{My Subtitle\xspace}
\newcommand{\myDegree}{Dr. rer. nat.\xspace}
\newcommand{\myName}{Michel Steuwer\xspace}
\newcommand{\myDekan}{Prof. Dr. Martin Stein\xspace}
\newcommand{\myProf}{Prof. Dr. habil. Sergei Gorlatch\xspace}
\newcommand{\myOtherProf}{Prof. Christophe Dubach\xspace}
\newcommand{\myFaculty}{Institut for Computer Science\xspace}
\newcommand{\myDepartment}{Department for Mathematics and Computer Science\xspace}
\newcommand{\myUni}{University of M\"unster\xspace}
\newcommand{\myLocation}{M\"unster\xspace}
\newcommand{\myTime}{2015\xspace}

% color settings
\usepackage[usenames,dvipsnames,table]{xcolor}
\definecolor{PantoneBlack7}{cmyk}{0, 0, 0.1, 0.9}
\definecolor{Pantone877}{cmyk}{0.38, 0.27, 0.26, 0.09}
\definecolor{titleGray}{gray}{0.3}
\definecolor{partGray}{gray}{0.3}
\definecolor{chapterGray}{gray}{0.8}

\newcommand{\titleColor}{titleGray}
\newcommand{\partTitleColor}{partGray}
\newcommand{\partTOCColor}{black}
\newcommand{\chapterNumberColor}{chapterGray}

\newcommand{\finalDate}{\today}

\usepackage{makeidx}
\makeindex

\usepackage[full]{textcomp}

%----------------------------------------------------------------------------------------
%	USEFUL COMMANDS
%----------------------------------------------------------------------------------------

\newcommand{\ie}{i.\,e.\xspace}
\newcommand{\Ie}{I.\,e.\xspace}
\newcommand{\eg}{e.\,g.\xspace}
\newcommand{\Eg}{E.\,g.\xspace} 
\newcommand{\aka}{a.\,k.\,a.\xspace}
\newcommand{\etc}{e.\,t.\,c.\xspace}

\newcounter{dummy} % Necessary for correct hyperlinks (to index, bib, etc.)
\providecommand{\mLyX}{L\kern-.1667em\lower.25em\hbox{Y}\kern-.125emX\@}

%----------------------------------------------------------------------------------------
%	PACKAGES
%----------------------------------------------------------------------------------------

\usepackage{lipsum} % Used for inserting dummy 'Lorem ipsum' text into the template

%------------------------------------------------
 
\PassOptionsToPackage{utf8}{inputenc}
\usepackage{inputenc}
 
 %------------------------------------------------

\PassOptionsToPackage{ngerman,american}{babel}  % Change this to your language(s)
% Spanish languages need extra options in order to work with this template
%\PassOptionsToPackage{spanish,es-lcroman}{babel}
\usepackage{babel}

%------------------------------------------------			

%\PassOptionsToPackage{square,numbers}{natbib}
%\usepackage{natbib}
\usepackage[hyperref=true,
            url=false,
            isbn=false,
            doi=false,
            backref=true,
            style=numeric-comp,
            defernumbers,
            maxbibnames=8]{biblatex}

\DeclareSourcemap{
  \maps[datatype=bibtex]{
    \map{
      \step[fieldsource=author,
            match=Steuwer,
            final]
      \step[fieldset=keywords, fieldvalue=steuwer]
    }
  }
}

\DefineBibliographyStrings{english}{%
  techreport = {Technical Report},
  byeditor = {edited by}
}

\addbibresource{Bibliography.bib}

 %------------------------------------------------

\PassOptionsToPackage{fleqn}{amsmath} % Math environments and more by the AMS 
\usepackage{amsmath}
% inline fractions
\newcommand*\rfrac[2]{{}^{#1}\!\big/{#2}}
 
 %------------------------------------------------

\PassOptionsToPackage{T1}{fontenc} % T2A for cyrillics
\usepackage{fontenc}

%------------------------------------------------

\usepackage{xspace} % To get the spacing after macros right

%------------------------------------------------

\usepackage{mparhack} % To get marginpar right

%------------------------------------------------

\usepackage{fixltx2e} % Fixes some LaTeX stuff 

%------------------------------------------------

\PassOptionsToPackage{smaller}{acronym} % Include printonlyused in the first bracket to only show acronyms used in the text
\usepackage{acronym} % nice macros for handling all acronyms in the thesis

%------------------------------------------------

%\renewcommand*{\acsfont}[1]{\textssc{#1}} % For MinionPro
%\renewcommand{\bflabel}[1]{{#1}\hfill} % Fix the list of acronyms

%------------------------------------------------

\PassOptionsToPackage{pdftex}{graphicx}
\usepackage{graphicx} 

\DeclareGraphicsExtensions{.pdf,.png,.jpg}

\graphicspath{ {./Figures/} }

%----------------------------------------------------------------------------------------
%	FLOATS: TABLES, FIGURES AND CAPTIONS SETUP
%----------------------------------------------------------------------------------------

\usepackage{tabularx} % Better tables
\setlength{\extrarowheight}{3pt} % Increase table row height
\newcommand{\tableheadline}[1]{\multicolumn{1}{c}{\spacedlowsmallcaps{#1}}}
\newcommand{\myfloatalign}{\centering} % To be used with each float for alignment
\usepackage{caption}
\captionsetup{format=hang,font=small}
%\usepackage{subfig}  

%----------------------------------------------------------------------------------------
%	CODE LISTINGS SETUP
%----------------------------------------------------------------------------------------

\usepackage{listings} 
\lstset{language=C++, % Specify the language for listings here
  keywordstyle=\bfseries, % Add \bfseries for bold
  basicstyle=\normalsize\ttfamily, % Makes listings a smaller font size and a different font
  commentstyle=\itshape, % Color of comments
  stringstyle=\itshape, % Font type to use for strings
  numbers=left, % Change left to none to remove line numbers
  numberstyle=\scriptsize, % Font size of the line numbers
  stepnumber=1, % Increment of line numbers
  numbersep=8pt, % Distance of line numbers from code listing
  showstringspaces=false, % Sets whether spaces in strings should appear underlined
  breaklines=true, % Force the code to stay in the confines of the listing box
  %frameround=ftff, % Uncomment for rounded frame
  frame=single, % Frame border - none/leftline/topline/bottomline/lines/single/shadowbox/L
  abovecaptionskip=.5\baselineskip, % Space after the "Listing #: Desciption" text and the listing box
  aboveskip=\baselineskip,
  captionpos=b,
  mathescape=true,
  moredelim=**[is][{\btHL[fill=RoyalBlue!50,draw=none]}]{@}{@},
}

%----------------------------------------------------------------------------------------
%	HYPERREFERENCES
%----------------------------------------------------------------------------------------

\PassOptionsToPackage{pdftex,hyperfootnotes=false,pdfpagelabels}{hyperref}
\usepackage{hyperref}  % backref linktocpage pagebackref
\pdfcompresslevel=9
\pdfadjustspacing=1

%\let\origtheequation\theequation
%\makeatletter
%\def\tagform@#1{\maketag@@@{\ignorespaces#1\unskip\@@italiccorr}}
%\makeatother
%\renewcommand{\theequation}{(\origtheequation)}

\hypersetup{
% Uncomment the line below to remove all links (to references, figures, tables, etc)
%draft, 
colorlinks=true, linktocpage=true, pdfstartpage=3, pdfstartview=FitV,
% Uncomment the line below if you want to have black links (e.g. for printing black and white)
%colorlinks=false, linktocpage=false, pdfborder={0 0 0}, pdfstartpage=3, pdfstartview=FitV, 
breaklinks=true, pdfpagemode=UseNone, pageanchor=true, pdfpagemode=UseOutlines,
plainpages=false, bookmarksnumbered, bookmarksopen=true, bookmarksopenlevel=1,
hypertexnames=true, pdfhighlight=/O, urlcolor=RoyalBlue, linkcolor=RoyalBlue, citecolor=RoyalBlue,
%------------------------------------------------
% PDF file meta-information
pdftitle={\myTitle},
pdfauthor={\textcopyright\ \myName, \myUni, \myFaculty},
pdfsubject={},
pdfkeywords={},
pdfcreator={pdfLaTeX},
pdfproducer={LaTeX with hyperref and classicthesis}
%------------------------------------------------
}   

%----------------------------------------------------------------------------------------
%	BACKREFERENCES
%----------------------------------------------------------------------------------------

\usepackage{ifthen} % Allows the user of the \ifthenelse command
\newboolean{enable-backrefs} % Variable to enable backrefs in the bibliography
\setboolean{enable-backrefs}{false} % Variable value: true or false

\newcommand{\backrefnotcitedstring}{\relax} % (Not cited.)
\newcommand{\backrefcitedsinglestring}[1]{(Cited on page~#1.)}
\newcommand{\backrefcitedmultistring}[1]{(Cited on pages~#1.)}
\ifthenelse{\boolean{enable-backrefs}} % If backrefs were enabled
{
\PassOptionsToPackage{hyperpageref}{backref}
\usepackage{backref} % to be loaded after hyperref package 
\renewcommand{\backreftwosep}{ and~} % separate 2 pages
\renewcommand{\backreflastsep}{, and~} % separate last of longer list
\renewcommand*{\backref}[1]{}  % disable standard
\renewcommand*{\backrefalt}[4]{% detailed backref
\ifcase #1 
\backrefnotcitedstring
\or
\backrefcitedsinglestring{#2}
\else
\backrefcitedmultistring{#2}
\fi}
}{\relax} 

%----------------------------------------------------------------------------------------
%	AUTOREFERENCES SETUP
%	Redefines how references in text are prefaced for different 
%	languages (e.g. "Section 1.2" or "section 1.2")
%----------------------------------------------------------------------------------------

\makeatletter
\@ifpackageloaded{babel}
{
\addto\extrasamerican{
\renewcommand*{\figureautorefname}{Figure}
\renewcommand*{\tableautorefname}{Table}
\renewcommand*{\partautorefname}{Part}
\renewcommand*{\chapterautorefname}{Chapter}
\renewcommand*{\sectionautorefname}{Section}
\renewcommand*{\subsectionautorefname}{Section}
\renewcommand*{\subsubsectionautorefname}{Section}
}
\addto\extrasngerman{
\renewcommand*{\paragraphautorefname}{Absatz}
\renewcommand*{\subparagraphautorefname}{Unterabsatz}
\renewcommand*{\footnoteautorefname}{Fu\"snote}
\renewcommand*{\FancyVerbLineautorefname}{Zeile}
\renewcommand*{\theoremautorefname}{Theorem}
\renewcommand*{\appendixautorefname}{Anhang}
\renewcommand*{\equationautorefname}{Gleichung}
\renewcommand*{\itemautorefname}{Punkt}
}
%\providecommand{\subfigureautorefname}{\figureautorefname} % Fix to getting autorefs for subfigures right
}{\relax}
\makeatother

%----------------------------------------------------------------------------------------

\usepackage{classicthesis} 

%----------------------------------------------------------------------------------------
%	CHANGING TEXT AREA 
%----------------------------------------------------------------------------------------

%\linespread{1.05} % a bit more for Palatino
%\areaset[current]{384pt}{768pt} % 686 (factor 2.2) + 33 head + 42 head \the\footskip
%\setlength{\marginparwidth}{7em}%
%\setlength{\marginparsep}{2em}%

%----------------------------------------------------------------------------------------
%	USING DIFFERENT FONTS
%----------------------------------------------------------------------------------------

%\usepackage[oldstylenums,onlyrm]{kpfonts} % oldstyle notextcomp

%\usepackage[osf]{libertine}
%\usepackage{hfoldsty} % Computer Modern with osf
%\usepackage[light,condensed,math]{iwona}
%\renewcommand{\sfdefault}{iwona}
%\usepackage{lmodern} % <-- no osf support :-(
%\usepackage[urw-garamond]{mathdesign} %<-- no osf support :-(

\usepackage{longtable}

\usepackage[normalem]{ulem}

\newcommand{\from}[1]{\marginpar{\colorbox{Maroon}{\parbox{\marginparwidth}{\color{white}#1}}}}
\newcommand{\todo}[1]{\marginpar{\colorbox{MidnightBlue}{\parbox{\marginparwidth}{\color{white}TODO:\newline #1}}}}
\newcommand{\todoU}[2]{\marginpar{\colorbox{MidnightBlue}{\parbox{\marginparwidth}{\color{white}TODO:\newline #2}}}\uline{#1}}

% included for HLPP
\usepackage{tikz}
\usepackage{multirow}
\usepackage{enumitem}
\newcommand{\eqdef}{\stackrel{\textrm{\scriptsize def}}{=}}
\newcommand{\MN}{\mathbb{N}}
\newcommand{\MR}{\mathbb{R}}
\newcommand{\DottedMatrix}[4]{\left[\begin{array}{ccc}%
  \hspace{-.5em}#1     & \hspace{-.5em}\cdots & \hspace{-.5em}#2\vspace{-.25em}\\%
	\hspace{-.5em}\vdots & \hspace{-.5em}       & \hspace{-.5em}\vdots\vspace{-.25em}\\%
	\hspace{-.5em}#3     & \hspace{-.5em}\cdots & \hspace{-.5em}#4%
	\end{array}\right]\ignorespaces}
\newcommand{\DottedVector}[2]{\left[#1\ \cdots\ #2\right]}

\newcommand{\ManDist}{\mbox{\emph{ManDist}}}
\newcommand{\PMD}{\mbox{\emph{PMD}}}
\newcommand{\dotProduct}{\mbox{\emph{dotProduct}}}
\newcommand*\circled[1]{\tikz[baseline=(char.base)]{
            \node[shape=circle,draw,inner sep=1pt] (char) {#1};}}
\newcommand*\lineNum[1]{\tikz[baseline=(char.base)]{
            \node[circle,draw,inner sep=0pt,minimum width=.4cm,minimum height=.4cm] (char) {\small $#1$};}}

\usepackage{amsthm}
\newtheoremstyle{mystyle}% name
  {\topsep}%Space above
  {\topsep}%Space below
  {\itshape}%Body font
  {}%Indent amount
  %{\bfseries}
  {\scshape}% Theorem head font
  {.}%Punctuation after theorem head
  { }%Space after theorem head 2
  {}%Theorem head spec (can be left empty, meaning ‘normal’)

\theoremstyle{mystyle}
\newtheorem{definition}{definition}
\newcommand{\definitionautorefname}{Definition}
\numberwithin{definition}{chapter}

% included for HiStencils
\newcommand{\code}[1]{\texttt{#1}}

% included for PACT
%\newcommand{\ie}{\emph{i.e.},\xspace}
%\newcommand{\eg}{\emph{e.g.},\xspace}
\newcommand{\etal}{et al.\xspace}
\newcommand{\TODO}[1]{\textbf{\hl{TODO: #1}}}
%\newcommand{\pat}[1]{\texttt{#1}}
\newcommand{\pat}[1]{\textit{#1}}
\newcommand{\bench}[1]{\textit{#1}}

\usepackage[framemethod=tikz,
            backgroundcolor=rulesbgcolor,
            linecolor=ruleslncolor,
            innerbottommargin=5pt,
            innertopmargin=5pt]{mdframed}

\usepackage{subcaption}

\usepackage{booktabs}
\newcommand{\tabhead}[1]{ \textbf{#1} }
%\usepackage[table]{xcolor}
\definecolor{oddcolor}{HTML}{FFFFFF}
\definecolor{evencolor}{HTML}{CCD0FF}
\definecolor{rulesbgcolor}{HTML}{F8FFCC}
\definecolor{ruleslncolor}{HTML}{555555}

\definecolor{refColor}{HTML}{A63603}
\definecolor{citeColor}{HTML}{006D2C}
\definecolor{urlColor}{HTML}{08519C}

%
\newcommand{\Cpp}{C\textls[-40]{++}\xspace}
\newcommand{\Csharp}{C\#\xspace}
\newcommand{\OpenCL}{Open{\small CL}\xspace}
\newcommand{\CUDA}{{\small CUDA}\xspace}
\newcommand{\CPU}{{\small CPU}\xspace}
\newcommand{\CPUs}{{\CPU}s\xspace}
\newcommand{\GPU}{{\small GPU}\xspace}
\newcommand{\GPUs}{{\GPU}s\xspace}
\newcommand{\SkelCL}{Skel{\small CL}\xspace}
\newcommand{\API}{{\small API}\xspace}
\newcommand{\APIs}{{\small APIs}\xspace}
\newcommand{\STL}{{\small STL}\xspace}
\newcommand{\SIMD}{{\small SIMD}\xspace}
\newcommand{\BLAS}{{\small BLAS}\xspace}

\newcommand{\map}{\text{\textit{map}}\xspace}
\newcommand{\zip}{\text{\textit{zip}}\xspace}
\newcommand{\reduce}{\text{\textit{reduce}}\xspace}
\newcommand{\scan}{\text{\textit{scan}}\xspace}
\newcommand{\zipReduce}{\text{\textit{zipReduce}}\xspace}
\newcommand{\allpairs}{\text{\textit{allpairs}}\xspace}
\newcommand{\mapOverlap}{\text{\textit{mapOverlap}}\xspace}
\newcommand{\stencil}{\text{\textit{stencil}}\xspace}

\newcommand{\splitN}{\text{\textit{split}}\xspace}
\newcommand{\join}{\text{\textit{join}}\xspace}
\newcommand{\iterateN}{\text{\textit{iterate}}\xspace}
\newcommand{\reorder}{\text{\textit{reorder}}\xspace}


\newcommand{\mapWorkgroup}{\text{\textit{map-workgroup}}\xspace}
\newcommand{\mapLocal}{\text{\textit{map-local}}\xspace}
\newcommand{\mapGlobal}{\text{\textit{map-global}}\xspace}
\newcommand{\mapSeq}{\text{\textit{map-seq}}\xspace}
\newcommand{\reduceSeq}{\text{\textit{reduce-seq}}\xspace}
\newcommand{\reorderStride}{\text{\textit{reorder-stride}}\xspace}
\newcommand{\toLocal}{\text{\textit{toLocal}}\xspace}
\newcommand{\toGlobal}{\text{\textit{toGlobal}}\xspace}
\newcommand{\asVector}{\text{\textit{asVector}}\xspace}
\newcommand{\asScalar}{\text{\textit{asScalar}}\xspace}
\newcommand{\vect}{\text{\textit{vectorize}}\xspace}
\newcommand{\partRed}{\text{\textit{part-red}}\xspace}

\newcommand{\id}{\text{\textit{id}}\xspace}

\newcommand{\mapWarp}{\text{\textit{map-warp}}\xspace}
\newcommand{\mapLane}{\text{\textit{map-lane}}\xspace}


\renewcommand{\thefootnote}{\fnsymbol{footnote}}
\stepcounter{footnote}

\usepackage[section]{placeins}
\usepackage{bussproofs}
\usepackage{transparent}

\usepackage{newverbs}

\newcommand{\highlightbox}[1]{\colorbox{RoyalBlue!50}{#1}}
\makeatletter
\newcommand\highlightcode[1][RoyalBlue!50]{%
  \Collectverb{\@highlightcode{#1}}%
}
\def\@highlightcode#1#2{%
  \colorbox{#1}{\lstinline|#2|}%
}
\makeatother

\makeatletter
\newenvironment{btHighlight}[1][]
{\begingroup\tikzset{bt@Highlight@par/.style={#1}}\begin{lrbox}{\@tempboxa}}
{\end{lrbox}\bt@HL@box[bt@Highlight@par]{\@tempboxa}\endgroup}

\newcommand\btHL[1][]{%
  \begin{btHighlight}[#1]\bgroup\aftergroup\bt@HL@endenv%
}
\def\bt@HL@endenv{%
  \end{btHighlight}%   
  \egroup
}
\newcommand{\bt@HL@box}[2][]{%
  \tikz[#1]{%
    \pgfpathrectangle{\pgfpoint{1pt}{0pt}}{\pgfpoint{\wd #2}{\ht #2}}%
    \pgfusepath{use as bounding box}%
    \node[anchor=base west, fill=orange!30,outer sep=0pt,inner xsep=1pt, inner ysep=0pt, minimum height=\ht\strutbox+1pt,#1]{\raisebox{1pt}{\strut}\strut\usebox{#2}};
  }%
}
\makeatother

\numberwithin{figure}{chapter}
\numberwithin{table}{chapter}
\AtBeginDocument{\numberwithin{lstlisting}{chapter}}

\numberwithin{equation}{chapter}
\usepackage{varioref}
\labelformat{equation}{\textup{(#1)}}

\newcommand\tikzmark[1]{\tikz[remember picture,overlay]\node (#1) {};}


\definecolor{firstColor}{HTML}{FEF0D9}
\definecolor{secondColor}{HTML}{FDCC8A}
\definecolor{thirdColor}{HTML}{FC8D59}
\definecolor{fourthColor}{HTML}{D7301F}
\newcommand{\firstBox}{\tikz[baseline=0.125em]{\filldraw[fill=firstColor,   draw=black] (0,0) rectangle (.3,.3);}}
\newcommand{\secondBox}{\tikz[baseline=0.125em]{\filldraw[fill=secondColor, draw=black] (0,0) rectangle (.3,.3);}}
\newcommand{\thirdBox}{\tikz[baseline=0.125em]{\filldraw[fill=thirdColor,   draw=black] (0,0) rectangle (.3,.3);}}
\newcommand{\fourthBox}{\tikz[baseline=0.125em]{\filldraw[fill=fourthColor, draw=black] (0,0) rectangle (.3,.3);}}


